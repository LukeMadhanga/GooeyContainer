!function(t,n,o){"use strict";t.gooeyContainer={consts:{POSITION_TOP:1,POSITION_BOTTOM:2,SNAP_TOP:1,SNAP_BOTTOM:2}};var e=function(){},i={init:function(i){var a=this,s={};return a.length>1?(a.each(function(){return t(this).gooeyContainer(i)}),a):!a.length||a.data("gooeycontainerdata")?a:(s.instanceid=++n,s.containerid="gooeycontainer"+s.instanceid,s.state="normal",s.s=t.extend({onChange:e,position:t.gooeyContainer.consts.POSITION_TOP,setParentHeight:!0,snapOn:t.gooeyContainer.consts.SNAP_TOP},i),a.data("gooeycontainerdata",s),t('<div class="gooeycontainerparent" id="'+s.containerid+'"></div>').insertAfter(a),t("#"+s.containerid).append(a),t(o).on("scroll",function(){var n,o,e,i=t(this),r=t("#"+s.containerid),c=r.position(),g=i.scrollTop(),O=s.s.snapOn===t.gooeyContainer.consts.SNAP_TOP?0:a[0].getBoundingClientRect().height;switch(s.s.position){case t.gooeyContainer.consts.POSITION_TOP:n=g>=c.top+O?"snapped":"normal";break;case t.gooeyContainer.consts.POSITION_BOTTOM:g+=i.height(),n=g>=c.top+O?"normal":"snapped"}o="snapped"===n?"addClass":"removeClass",e=s.s.position===t.gooeyContainer.consts.POSITION_TOP?"top":"bottom",a[o]("gooeycontaineritem gooeycontainer-"+e),r[o]("gooeycontainerparent-active"),s.state!==n&&(s.state=n,s.s.onChange.call(this,{state:n}),s.s.setParentHeight&&r.height(a[0].getBoundingClientRect().height))}).scroll(),a)}};t.fn.gooeyContainer=function(n){return i[n]?i[n].apply(this,Array.prototype.slice.call(arguments,1)):"[object Object]"!==Object.prototype.toString.call(n)&&n?void t.error(["The method ",n," does not exist"].join("")):i.init.apply(this,arguments)}}(jQuery,0,this);
